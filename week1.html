<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.7.32">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Week1: Data Wrnagling and EDA</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="week1_files/libs/clipboard/clipboard.min.js"></script>
<script src="week1_files/libs/quarto-html/quarto.js" type="module"></script>
<script src="week1_files/libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="week1_files/libs/quarto-html/popper.min.js"></script>
<script src="week1_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="week1_files/libs/quarto-html/anchor.min.js"></script>
<link href="week1_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="week1_files/libs/quarto-html/quarto-syntax-highlighting-37eea08aefeeee20ff55810ff984fec1.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="week1_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="week1_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="week1_files/libs/bootstrap/bootstrap-bb462d781dde1847d9e3ccf7736099dd.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">


</head>

<body class="fullcontent quarto-light">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">

<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Week1: Data Wrnagling and EDA</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<section id="the-dataset" class="level2">
<h2 class="anchored" data-anchor-id="the-dataset">The Dataset</h2>
<p>We’ll use <a href="https://archive.ics.uci.edu/dataset/222/bank+marketing">“UCI Bank Marketing”</a> dataset to demonstrate week 1 concepts.</p>
<p>The Bank Marketing dataset is a real-world dataset from the UCI Machine Learning Repository about direct marketing campaigns carried out by a Portuguese bank. The bank used telephone calls to contact potential customers and offer them a term deposit product — a kind of savings or investment account.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(reticulate)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">use_python</span>(<span class="st">"C:/Program Files/Python313/python.exe"</span>, <span class="at">required =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="part-a-first-contact-with-the-dataset" class="level2">
<h2 class="anchored" data-anchor-id="part-a-first-contact-with-the-dataset">Part A: First Contact with the Dataset</h2>
<hr>
</section>
<section id="a1.-loading-and-inspecting-the-dataset" class="level2">
<h2 class="anchored" data-anchor-id="a1.-loading-and-inspecting-the-dataset">A1. Loading and Inspecting the Dataset</h2>
<p>We begin by loading the dataset and performing a <strong>minimal structural inspection</strong>. At this stage, the goal is <em>not</em> analysis, but orientation.</p>
<hr>
<section id="r-load-and-inspect-the-data" class="level3">
<h3 class="anchored" data-anchor-id="r-load-and-inspect-the-data">R: Load and Inspect the Data</h3>
<section id="load-required-packages" class="level4">
<h4 class="anchored" data-anchor-id="load-required-packages">Load required packages</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="read-the-dataset" class="level4">
<h4 class="anchored" data-anchor-id="read-the-dataset">Read the dataset</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>bank <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"data/raw/bank-additional.csv"</span>, <span class="at">sep =</span> <span class="st">";"</span>,</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="at">stringsAsFactors =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="display-first-few-rows" class="level4">
<h4 class="anchored" data-anchor-id="display-first-few-rows">Display first few rows</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(bank)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  age         job marital         education default housing    loan   contact
1  30 blue-collar married          basic.9y      no     yes      no  cellular
2  39    services  single       high.school      no      no      no telephone
3  25    services married       high.school      no     yes      no telephone
4  38    services married          basic.9y      no unknown unknown telephone
5  47      admin. married university.degree      no     yes      no  cellular
6  32    services  single university.degree      no      no      no  cellular
  month day_of_week duration campaign pdays previous    poutcome emp.var.rate
1   may         fri      487        2   999        0 nonexistent         -1.8
2   may         fri      346        4   999        0 nonexistent          1.1
3   jun         wed      227        1   999        0 nonexistent          1.4
4   jun         fri       17        3   999        0 nonexistent          1.4
5   nov         mon       58        1   999        0 nonexistent         -0.1
6   sep         thu      128        3   999        2     failure         -1.1
  cons.price.idx cons.conf.idx euribor3m nr.employed  y
1         92.893         -46.2     1.313      5099.1 no
2         93.994         -36.4     4.855      5191.0 no
3         94.465         -41.8     4.962      5228.1 no
4         94.465         -41.8     4.959      5228.1 no
5         93.200         -42.0     4.191      5195.8 no
6         94.199         -37.5     0.884      4963.6 no</code></pre>
</div>
</div>
</section>
<section id="dimensions-of-the-dataset" class="level4">
<h4 class="anchored" data-anchor-id="dimensions-of-the-dataset">Dimensions of the dataset</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(bank)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 4119   21</code></pre>
</div>
</div>
</section>
<section id="column-names" class="level4">
<h4 class="anchored" data-anchor-id="column-names">Column names</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(bank)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "age"            "job"            "marital"        "education"     
 [5] "default"        "housing"        "loan"           "contact"       
 [9] "month"          "day_of_week"    "duration"       "campaign"      
[13] "pdays"          "previous"       "poutcome"       "emp.var.rate"  
[17] "cons.price.idx" "cons.conf.idx"  "euribor3m"      "nr.employed"   
[21] "y"             </code></pre>
</div>
</div>
<p><strong>Explanation (R)</strong></p>
<ul>
<li>The file uses <code>;</code> as a separator, which is common in datasets.</li>
<li>We explicitly disable automatic factor conversion to retain control over data types.</li>
<li><code>dim()</code> confirms the dataset size (rows × columns).</li>
<li><code>colnames()</code> provides an overview of available variables.</li>
</ul>
<hr>
</section>
</section>
<section id="python-load-and-inspect-the-data" class="level3">
<h3 class="anchored" data-anchor-id="python-load-and-inspect-the-data">Python: Load and Inspect the Data</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<section id="read-the-dataset-1" class="level4">
<h4 class="anchored" data-anchor-id="read-the-dataset-1">Read the dataset</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>bank <span class="op">=</span> pd.read_csv(<span class="st">"data/raw/bank-additional.csv"</span>, sep<span class="op">=</span><span class="st">";"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="display-first-few-rows-1" class="level4">
<h4 class="anchored" data-anchor-id="display-first-few-rows-1">Display first few rows</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>bank.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   age          job  marital  ... euribor3m nr.employed   y
0   30  blue-collar  married  ...     1.313      5099.1  no
1   39     services   single  ...     4.855      5191.0  no
2   25     services  married  ...     4.962      5228.1  no
3   38     services  married  ...     4.959      5228.1  no
4   47       admin.  married  ...     4.191      5195.8  no

[5 rows x 21 columns]</code></pre>
</div>
</div>
</section>
<section id="dimensions-of-the-dataset-1" class="level4">
<h4 class="anchored" data-anchor-id="dimensions-of-the-dataset-1">Dimensions of the dataset</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>bank.shape</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>(4119, 21)</code></pre>
</div>
</div>
</section>
<section id="column-names-1" class="level4">
<h4 class="anchored" data-anchor-id="column-names-1">Column names</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>bank.columns.tolist()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>['age', 'job', 'marital', 'education', 'default', 'housing', 'loan', 'contact', 'month', 'day_of_week', 'duration', 'campaign', 'pdays', 'previous', 'poutcome', 'emp.var.rate', 'cons.price.idx', 'cons.conf.idx', 'euribor3m', 'nr.employed', 'y']</code></pre>
</div>
</div>
<p><strong>Explanation (Python)</strong></p>
<ul>
<li>As in R, we specify the separator explicitly.</li>
<li><code>.head()</code> shows the first five rows.</li>
<li><code>.shape</code> reports the dataset size.</li>
<li><code>.columns.tolist()</code> gives a readable list of variable names.</li>
</ul>
<hr>
</section>
</section>
</section>
<section id="a2.-what-does-one-row-represent" class="level2">
<h2 class="anchored" data-anchor-id="a2.-what-does-one-row-represent">A2. What Does One Row Represent?</h2>
<p>Before doing <em>any</em> analysis, we must understand <strong>what a single row corresponds to in the real world</strong>.</p>
<section id="interpretation" class="level3">
<h3 class="anchored" data-anchor-id="interpretation">Interpretation</h3>
<p>A <strong>single row represents one contact attempt</strong> made during a direct marketing campaign by a Portuguese bank, where:</p>
<ul>
<li>a specific client was contacted,</li>
<li>during a specific campaign period,</li>
<li>under a particular economic context,</li>
<li>resulting in a subscription outcome (<code>y = yes</code> or <code>no</code>).</li>
</ul>
<p>Importantly:</p>
<ul>
<li>The same client may appear <strong>multiple times</strong>.</li>
<li>Multiple rows do <strong>not</strong> necessarily represent independent clients.</li>
<li>The dataset records <em>contact-level events</em>, not client summaries.</li>
</ul>
<p>This interpretation has consequences for:</p>
<ul>
<li>aggregation (Since the same client can appear multiple times, you must be careful when summarising or aggregating the data.),</li>
<li>leakage (Some variables describe outcomes of previous contacts or later information in the campaign. If these are used incorrectly, the model may accidentally use information that would not have been known at the time of prediction.),</li>
<li>model design later in the module (Because rows are not independent clients, common modeling assumptions (such as independence of observations) may be violated.).</li>
</ul>
<hr>
</section>
</section>
<section id="a3.-identifying-groups-of-variables" class="level2">
<h2 class="anchored" data-anchor-id="a3.-identifying-groups-of-variables">A3. Identifying Groups of Variables</h2>
<p>We now group variables conceptually, based on what aspect of the process they describe.</p>
<hr>
<section id="client-related-variables" class="level3">
<h3 class="anchored" data-anchor-id="client-related-variables">Client-Related Variables</h3>
<p>These describe <strong>who the client is</strong> (largely static attributes):</p>
<ul>
<li><code>age</code></li>
<li><code>job</code></li>
<li><code>marital</code></li>
<li><code>education</code></li>
<li><code>default</code></li>
<li><code>housing</code></li>
<li><code>loan</code></li>
</ul>
<p>These variables typically exist <strong>before</strong> the marketing contact.</p>
<hr>
</section>
<section id="campaign-contact-related-variables" class="level3">
<h3 class="anchored" data-anchor-id="campaign-contact-related-variables">Campaign / Contact-Related Variables</h3>
<p>These describe <strong>how and when the client was contacted</strong>:</p>
<ul>
<li><code>contact</code></li>
<li><code>month</code></li>
<li><code>day_of_week</code></li>
<li><code>duration</code></li>
<li><code>campaign</code>: The number of times the client was contacted during the current marketing campaign.</li>
<li><code>pdays</code>: The number of days since the client was last contacted in a previous campaign. <code>999</code> means the client was not contacted previously.</li>
<li><code>previous</code>: The number of contacts made with the client before the current campaign.</li>
<li><code>poutcome</code>: The outcome of the previous marketing campaign for the client.</li>
</ul>
<p>Some of these (notably <code>duration</code>) raise <strong>serious validity and leakage concerns</strong>, which will be revisited later.</p>
<hr>
</section>
<section id="economic-context-variables" class="level3">
<h3 class="anchored" data-anchor-id="economic-context-variables">Economic Context Variables</h3>
<p>These describe the <strong>macroeconomic environment</strong> at the time of the campaign:</p>
<ul>
<li><code>emp.var.rate</code>: The employment variation rate, a macroeconomic indicator.</li>
<li><code>cons.price.idx</code>: The consumer price index, a measure of inflation.</li>
<li><code>cons.conf.idx</code>: The consumer confidence index, measuring how optimistic consumers feel about the economy.</li>
<li><code>euribor3m</code>: The 3-month Euribor interest rate, a key European benchmark rate.</li>
<li><code>nr.employed</code>: The total number of people employed in the economy (in thousands).</li>
</ul>
<p>These variables are shared across many rows and are <strong>not client-specific</strong>.</p>
<hr>
</section>
<section id="outcome-variable" class="level3">
<h3 class="anchored" data-anchor-id="outcome-variable">Outcome Variable</h3>
<ul>
<li><code>y</code> — whether the client subscribed to a term deposit (<code>yes</code> / <code>no</code>)</li>
</ul>
<p>This is the <strong>target variable</strong> for supervised learning.</p>
<hr>
</section>
</section>
<section id="a4.-initial-structural-observations" class="level2">
<h2 class="anchored" data-anchor-id="a4.-initial-structural-observations">A4. Initial Structural Observations</h2>
<p>From this first inspection, we can already make several important observations:</p>
<ol type="1">
<li>The dataset mixes <strong>client-level</strong>, <strong>event-level</strong>, and <strong>context-level</strong> information.</li>
<li>Several variables are categorical but encoded as strings.</li>
<li>Some numeric-looking values (e.g.&nbsp;<code>pdays = 999</code>) may actually be <strong>codes</strong>, not measurements.</li>
<li>The presence of <code>duration</code> suggests that <strong>not all variables are valid at prediction time</strong>.</li>
</ol>
<p>These observations will guide all subsequent wrangling and modelling decisions.</p>
<hr>
</section>
<section id="key-takeaway-from-part-a" class="level2">
<h2 class="anchored" data-anchor-id="key-takeaway-from-part-a">Key Takeaway from Part A</h2>
<blockquote class="blockquote">
<p><strong>Understanding what a row represents is more important than understanding how to fit a model.</strong></p>
</blockquote>
<p>Before moving to cleaning or EDA, we must be clear about:</p>
<ul>
<li>the data-generating process,</li>
<li>the unit of analysis,</li>
<li>and which variables are legitimate inputs.</li>
</ul>
<hr>
</section>
<section id="part-b-data-types-representation" class="level2">
<h2 class="anchored" data-anchor-id="part-b-data-types-representation">Part B: Data Types &amp; Representation</h2>
<hr>
</section>
<section id="b1.-why-data-types-matter" class="level2">
<h2 class="anchored" data-anchor-id="b1.-why-data-types-matter">B1. Why Data Types Matter</h2>
<p>Before cleaning or analysis, we must decide <strong>how each variable should be interpreted</strong>. Software may assign a data type automatically, but <strong>meaning comes from context</strong>, not syntax.</p>
<p>A common mistake is to assume that:</p>
<ul>
<li>numeric values are always quantitative, or</li>
<li>categorical values are always nominal.</li>
</ul>
<p>In this section, we examine <strong>what each variable represents</strong>, rather than how it is stored.</p>
<hr>
</section>
<section id="b2.-inspecting-software-inferred-data-types" class="level2">
<h2 class="anchored" data-anchor-id="b2.-inspecting-software-inferred-data-types">B2. Inspecting Software-Inferred Data Types</h2>
<p>We start by checking how the software interprets each column.</p>
<hr>
<section id="r-inspect-column-types" class="level4">
<h4 class="anchored" data-anchor-id="r-inspect-column-types">R: Inspect Column Types</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(bank)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>'data.frame':   4119 obs. of  21 variables:
 $ age           : int  30 39 25 38 47 32 32 41 31 35 ...
 $ job           : chr  "blue-collar" "services" "services" "services" ...
 $ marital       : chr  "married" "single" "married" "married" ...
 $ education     : chr  "basic.9y" "high.school" "high.school" "basic.9y" ...
 $ default       : chr  "no" "no" "no" "no" ...
 $ housing       : chr  "yes" "no" "yes" "unknown" ...
 $ loan          : chr  "no" "no" "no" "unknown" ...
 $ contact       : chr  "cellular" "telephone" "telephone" "telephone" ...
 $ month         : chr  "may" "may" "jun" "jun" ...
 $ day_of_week   : chr  "fri" "fri" "wed" "fri" ...
 $ duration      : int  487 346 227 17 58 128 290 44 68 170 ...
 $ campaign      : int  2 4 1 3 1 3 4 2 1 1 ...
 $ pdays         : int  999 999 999 999 999 999 999 999 999 999 ...
 $ previous      : int  0 0 0 0 0 2 0 0 1 0 ...
 $ poutcome      : chr  "nonexistent" "nonexistent" "nonexistent" "nonexistent" ...
 $ emp.var.rate  : num  -1.8 1.1 1.4 1.4 -0.1 -1.1 -1.1 -0.1 -0.1 1.1 ...
 $ cons.price.idx: num  92.9 94 94.5 94.5 93.2 ...
 $ cons.conf.idx : num  -46.2 -36.4 -41.8 -41.8 -42 -37.5 -37.5 -42 -42 -36.4 ...
 $ euribor3m     : num  1.31 4.86 4.96 4.96 4.19 ...
 $ nr.employed   : num  5099 5191 5228 5228 5196 ...
 $ y             : chr  "no" "no" "no" "no" ...</code></pre>
</div>
</div>
<p><strong>Explanation (R)</strong></p>
<ul>
<li><code>str()</code> shows how R currently stores each column.</li>
<li>At this stage, many variables are character strings, even though they encode categories.</li>
<li>Numeric-looking columns may still require reinterpretation.</li>
</ul>
<hr>
</section>
<section id="python-inspect-column-types" class="level4">
<h4 class="anchored" data-anchor-id="python-inspect-column-types">Python: Inspect Column Types</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>bank.dtypes</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>age                 int64
job                object
marital            object
education          object
default            object
housing            object
loan               object
contact            object
month              object
day_of_week        object
duration            int64
campaign            int64
pdays               int64
previous            int64
poutcome           object
emp.var.rate      float64
cons.price.idx    float64
cons.conf.idx     float64
euribor3m         float64
nr.employed       float64
y                  object
dtype: object</code></pre>
</div>
</div>
<p><strong>Explanation (Python)</strong></p>
<ul>
<li>Pandas infers data types based on values present.</li>
<li>This inference is technical, not semantic.</li>
<li>Our task is to judge whether the inferred types make <em>conceptual sense</em>.</li>
</ul>
<hr>
</section>
</section>
<section id="b3.-conceptual-classification-of-variables" class="level2">
<h2 class="anchored" data-anchor-id="b3.-conceptual-classification-of-variables">B3. Conceptual Classification of Variables</h2>
<p>We now classify variables based on <strong>what they mean</strong>, not how they are stored.</p>
<hr>
<section id="client-related-variables-1" class="level3">
<h3 class="anchored" data-anchor-id="client-related-variables-1">Client-Related Variables</h3>
<table class="caption-top table">
<colgroup>
<col style="width: 14%">
<col style="width: 33%">
<col style="width: 52%">
</colgroup>
<thead>
<tr class="header">
<th>Variable</th>
<th>Conceptual Type</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>age</code></td>
<td>Numeric (continuous)</td>
<td>Measured in years</td>
</tr>
<tr class="even">
<td><code>job</code></td>
<td>Categorical (nominal)</td>
<td>No inherent ordering</td>
</tr>
<tr class="odd">
<td><code>marital</code></td>
<td>Categorical (nominal)</td>
<td>Categories are labels</td>
</tr>
<tr class="even">
<td><code>education</code></td>
<td>Categorical (ordinal-ish)</td>
<td>Ordering exists, but spacing is unclear</td>
</tr>
<tr class="odd">
<td><code>default</code></td>
<td>Binary categorical</td>
<td>Yes / No / Unknown</td>
</tr>
<tr class="even">
<td><code>housing</code></td>
<td>Binary categorical</td>
<td>Yes / No / Unknown</td>
</tr>
<tr class="odd">
<td><code>loan</code></td>
<td>Binary categorical</td>
<td>Yes / No / Unknown</td>
</tr>
</tbody>
</table>
<p>Even when categories look ordered (e.g.&nbsp;education), treating them as numeric is risky.</p>
<hr>
</section>
<section id="campaign-contact-variables" class="level3">
<h3 class="anchored" data-anchor-id="campaign-contact-variables">Campaign / Contact Variables</h3>
<table class="caption-top table">
<colgroup>
<col style="width: 17%">
<col style="width: 32%">
<col style="width: 50%">
</colgroup>
<thead>
<tr class="header">
<th>Variable</th>
<th>Conceptual Type</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>contact</code></td>
<td>Categorical</td>
<td>Method of contact</td>
</tr>
<tr class="even">
<td><code>month</code></td>
<td>Categorical (cyclic)</td>
<td>Month names, not numeric</td>
</tr>
<tr class="odd">
<td><code>day_of_week</code></td>
<td>Categorical (cyclic)</td>
<td>Ordering exists but is circular</td>
</tr>
<tr class="even">
<td><code>duration</code></td>
<td>Numeric (but problematic)</td>
<td>Known <em>after</em> the call</td>
</tr>
<tr class="odd">
<td><code>campaign</code></td>
<td>Numeric (count)</td>
<td>Number of contacts</td>
</tr>
<tr class="even">
<td><code>pdays</code></td>
<td>Numeric code</td>
<td><code>999</code> means “not previously contacted”</td>
</tr>
<tr class="odd">
<td><code>previous</code></td>
<td>Numeric (count)</td>
<td>Past contacts</td>
</tr>
<tr class="even">
<td><code>poutcome</code></td>
<td>Categorical</td>
<td>Outcome of previous campaign</td>
</tr>
</tbody>
</table>
<hr>
</section>
<section id="economic-context-variables-1" class="level3">
<h3 class="anchored" data-anchor-id="economic-context-variables-1">Economic Context Variables</h3>
<table class="caption-top table">
<thead>
<tr class="header">
<th>Variable</th>
<th>Conceptual Type</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>emp.var.rate</code></td>
<td>Numeric (continuous)</td>
<td>Macro-level</td>
</tr>
<tr class="even">
<td><code>cons.price.idx</code></td>
<td>Numeric (continuous)</td>
<td>Macro-level</td>
</tr>
<tr class="odd">
<td><code>cons.conf.idx</code></td>
<td>Numeric (continuous)</td>
<td>Macro-level</td>
</tr>
<tr class="even">
<td><code>euribor3m</code></td>
<td>Numeric (continuous)</td>
<td>Interest rate</td>
</tr>
<tr class="odd">
<td><code>nr.employed</code></td>
<td>Numeric (continuous)</td>
<td>Labour market</td>
</tr>
</tbody>
</table>
<p>These variables are <strong>shared across many rows</strong> and vary slowly over time.</p>
<hr>
</section>
<section id="outcome-variable-1" class="level3">
<h3 class="anchored" data-anchor-id="outcome-variable-1">Outcome Variable</h3>
<table class="caption-top table">
<thead>
<tr class="header">
<th>Variable</th>
<th>Conceptual Type</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>y</code></td>
<td>Binary categorical</td>
<td>Target variable</td>
</tr>
</tbody>
</table>
<hr>
</section>
</section>
<section id="b4.-numeric-does-not-always-mean-quantitative" class="level2">
<h2 class="anchored" data-anchor-id="b4.-numeric-does-not-always-mean-quantitative">B4. Numeric Does Not Always Mean Quantitative</h2>
<p>Some variables are stored as numbers but <strong>should not be treated as numeric measurements</strong>.</p>
<hr>
<section id="example-1-pdays" class="level3">
<h3 class="anchored" data-anchor-id="example-1-pdays">Example 1: <code>pdays</code></h3>
<p>The variable <code>pdays</code> records the number of days since the client was last contacted. However, the value <code>999</code> is a <strong>code</strong> meaning <em>“not previously contacted”</em>.</p>
<p>Treating <code>999</code> as a real number would:</p>
<ul>
<li>distort summaries,</li>
<li>mislead models,</li>
<li>imply false ordering.</li>
</ul>
<hr>
<section id="r-inspect-pdays" class="level4">
<h4 class="anchored" data-anchor-id="r-inspect-pdays">R: Inspect <code>pdays</code></h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(bank<span class="sc">$</span>pdays)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
   0    1    2    3    4    5    6    7    9   10   11   12   13   14   15   16 
   2    3    4   52   14    4   42   10    3    8    1    5    2    1    2    2 
  17   18   19   21  999 
   1    2    1    1 3959 </code></pre>
</div>
</div>
<hr>
</section>
<section id="python-inspect-pdays" class="level4">
<h4 class="anchored" data-anchor-id="python-inspect-pdays">Python: Inspect <code>pdays</code></h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a>bank[<span class="st">"pdays"</span>].value_counts().head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>pdays
999    3959
3        52
6        42
4        14
7        10
Name: count, dtype: int64</code></pre>
</div>
</div>
<p><strong>Interpretation</strong></p>
<ul>
<li>The dominance of <code>999</code> indicates a categorical state, not a large number of days.</li>
<li>This variable must be <strong>re-encoded or handled carefully</strong> later.</li>
</ul>
<hr>
</section>
</section>
<section id="example-2-duration" class="level3">
<h3 class="anchored" data-anchor-id="example-2-duration">Example 2: <code>duration</code></h3>
<p><code>duration</code> measures the length of the phone call in seconds.</p>
<p>While numeric, it is <strong>not valid for prediction</strong>, because:</p>
<ul>
<li>it is only known <em>after</em> the call ends,</li>
<li>it directly encodes success likelihood.</li>
</ul>
<p>Including it would result in <strong>data leakage</strong>.</p>
<p>This does not mean it should be deleted immediately — it can still be useful for:</p>
<ul>
<li>post-hoc analysis,</li>
<li>descriptive understanding.</li>
</ul>
<hr>
</section>
</section>
<section id="b5.-ordinal-vs-nominal-a-subtle-distinction" class="level2">
<h2 class="anchored" data-anchor-id="b5.-ordinal-vs-nominal-a-subtle-distinction">B5. Ordinal vs Nominal: A Subtle Distinction</h2>
<p>Some variables appear ordered but lack meaningful numeric spacing.</p>
<hr>
<section id="example-education" class="level3">
<h3 class="anchored" data-anchor-id="example-education">Example: <code>education</code></h3>
<p>Values such as:</p>
<ul>
<li><code>basic.9y</code></li>
<li><code>high.school</code></li>
<li><code>university.degree</code></li>
</ul>
<p>suggest ordering, but:</p>
<ul>
<li>the distance between levels is not defined,</li>
<li>numeric encoding would impose artificial structure.</li>
</ul>
<p>At this stage, it is safest to treat <code>education</code> as <strong>categorical</strong>, not numeric.</p>
<hr>
</section>
</section>
<section id="b6.-representation-is-a-modelling-decision" class="level2">
<h2 class="anchored" data-anchor-id="b6.-representation-is-a-modelling-decision">B6. Representation Is a Modelling Decision</h2>
<p>From this analysis, an important principle emerges:</p>
<blockquote class="blockquote">
<p><strong>Choosing how to represent a variable is already a modelling decision.</strong></p>
</blockquote>
<p>Even before fitting any model, we have decided:</p>
<ul>
<li>what counts as numeric,</li>
<li>what counts as categorical,</li>
<li>which values are codes,</li>
<li>which variables may be invalid at prediction time.</li>
</ul>
<p>These decisions will:</p>
<ul>
<li>shape EDA results,</li>
<li>influence model behaviour,</li>
<li>affect interpretability and fairness.</li>
</ul>
<hr>
</section>
<section id="key-takeaway-from-part-b" class="level2">
<h2 class="anchored" data-anchor-id="key-takeaway-from-part-b">Key Takeaway from Part B</h2>
<blockquote class="blockquote">
<p><strong>Data types inferred by software are not the same as data meanings.</strong> Thoughtful representation is a prerequisite for valid machine learning.</p>
</blockquote>
<hr>
</section>
<section id="part-c-data-quality-validity-checks" class="level2">
<h2 class="anchored" data-anchor-id="part-c-data-quality-validity-checks">Part C: Data Quality &amp; Validity Checks</h2>
<hr>
</section>
<section id="c1.-why-data-quality-comes-before-modelling" class="level2">
<h2 class="anchored" data-anchor-id="c1.-why-data-quality-comes-before-modelling">C1. Why Data Quality Comes Before Modelling</h2>
<p>Before any modelling or even detailed EDA, we must assess <strong>whether the data is valid for the questions we intend to ask</strong>.</p>
<p>Data quality is <strong>not</strong> just about missing values. It includes:</p>
<ul>
<li>coded values that look numeric,</li>
<li>categories such as <code>"unknown"</code>,</li>
<li>variables that violate the prediction-time assumption.</li>
</ul>
<p>In this section, we systematically identify such issues and reason about how to handle them.</p>
<hr>
</section>
<section id="c2.-missing-values-vs-unknown-values" class="level2">
<h2 class="anchored" data-anchor-id="c2.-missing-values-vs-unknown-values">C2. Missing Values vs “Unknown” Values</h2>
<p>The dataset does <strong>not</strong> contain standard missing values (<code>NA</code> / <code>NaN</code>) in most columns. Instead, missingness is often encoded explicitly as <code>"unknown"</code> or implicitly via sentinel values.</p>
<hr>
<section id="r-check-for-missing-values" class="level4">
<h4 class="anchored" data-anchor-id="r-check-for-missing-values">R: Check for Missing Values</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="fu">colSums</span>(<span class="fu">is.na</span>(bank))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>           age            job        marital      education        default 
             0              0              0              0              0 
       housing           loan        contact          month    day_of_week 
             0              0              0              0              0 
      duration       campaign          pdays       previous       poutcome 
             0              0              0              0              0 
  emp.var.rate cons.price.idx  cons.conf.idx      euribor3m    nr.employed 
             0              0              0              0              0 
             y 
             0 </code></pre>
</div>
</div>
<p><strong>Observation</strong></p>
<ul>
<li>There are no classical <code>NA</code> values.</li>
<li>This does <em>not</em> mean the data is complete.</li>
</ul>
<hr>
</section>
<section id="python-check-for-missing-values" class="level4">
<h4 class="anchored" data-anchor-id="python-check-for-missing-values">Python: Check for Missing Values</h4>
<p>Count missing (NaN) values per column</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a>bank.isna().<span class="bu">sum</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>age               0
job               0
marital           0
education         0
default           0
housing           0
loan              0
contact           0
month             0
day_of_week       0
duration          0
campaign          0
pdays             0
previous          0
poutcome          0
emp.var.rate      0
cons.price.idx    0
cons.conf.idx     0
euribor3m         0
nr.employed       0
y                 0
dtype: int64</code></pre>
</div>
</div>
<hr>
</section>
</section>
<section id="c3.-identifying-unknown-categories" class="level2">
<h2 class="anchored" data-anchor-id="c3.-identifying-unknown-categories">C3. Identifying “Unknown” Categories</h2>
<p>Several categorical variables use <code>"unknown"</code> as a valid category.</p>
<hr>
<section id="r-frequency-of-unknown-values" class="level4">
<h4 class="anchored" data-anchor-id="r-frequency-of-unknown-values">R: Frequency of “unknown” Values</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a>unknown_counts <span class="ot">&lt;-</span> <span class="fu">sapply</span>(bank, <span class="cf">function</span>(x) {</span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="fu">is.character</span>(x)) <span class="fu">sum</span>(x <span class="sc">==</span> <span class="st">"unknown"</span>) <span class="cf">else</span> <span class="dv">0</span></span>
<span id="cb30-3"><a href="#cb30-3" aria-hidden="true" tabindex="-1"></a>})</span>
<span id="cb30-4"><a href="#cb30-4" aria-hidden="true" tabindex="-1"></a>unknown_counts</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>           age            job        marital      education        default 
             0             39             11            167            803 
       housing           loan        contact          month    day_of_week 
           105            105              0              0              0 
      duration       campaign          pdays       previous       poutcome 
             0              0              0              0              0 
  emp.var.rate cons.price.idx  cons.conf.idx      euribor3m    nr.employed 
             0              0              0              0              0 
             y 
             0 </code></pre>
</div>
</div>
<hr>
</section>
<section id="python-frequency-of-unknown-values" class="level4">
<h4 class="anchored" data-anchor-id="python-frequency-of-unknown-values">Python: Frequency of “unknown” Values</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a>unknown_counts <span class="op">=</span> {</span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a>col: (bank[col] <span class="op">==</span> <span class="st">"unknown"</span>).<span class="bu">sum</span>()</span>
<span id="cb32-3"><a href="#cb32-3" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> col <span class="kw">in</span> bank.columns</span>
<span id="cb32-4"><a href="#cb32-4" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> bank[col].dtype <span class="op">==</span> <span class="st">"object"</span></span>
<span id="cb32-5"><a href="#cb32-5" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb32-6"><a href="#cb32-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-7"><a href="#cb32-7" aria-hidden="true" tabindex="-1"></a>unknown_counts</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>{'job': np.int64(39), 'marital': np.int64(11), 'education': np.int64(167), 'default': np.int64(803), 'housing': np.int64(105), 'loan': np.int64(105), 'contact': np.int64(0), 'month': np.int64(0), 'day_of_week': np.int64(0), 'poutcome': np.int64(0), 'y': np.int64(0)}</code></pre>
</div>
</div>
<p><strong>Interpretation</strong></p>
<ul>
<li>Variables such as <code>job</code>, <code>education</code>, <code>default</code>, <code>housing</code>, and <code>loan</code> contain <code>"unknown"</code>.</li>
<li>These values are <strong>not random missingness</strong> — they reflect operational or reporting limitations.</li>
</ul>
<hr>
</section>
</section>
<section id="c4.-sentinel-values-and-coded-entries" class="level2">
<h2 class="anchored" data-anchor-id="c4.-sentinel-values-and-coded-entries">C4. Sentinel Values and Coded Entries</h2>
<p>Some numeric-looking variables encode <strong>special states</strong>.</p>
<hr>
<section id="example-1-pdays-1" class="level3">
<h3 class="anchored" data-anchor-id="example-1-pdays-1">Example 1: <code>pdays</code></h3>
<p>As discussed earlier:</p>
<ul>
<li><code>pdays = 999</code> means <em>client not previously contacted</em>.</li>
</ul>
<hr>
<section id="r-examine-distribution-of-pdays" class="level4">
<h4 class="anchored" data-anchor-id="r-examine-distribution-of-pdays">R: Examine Distribution of <code>pdays</code></h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(bank<span class="sc">$</span>pdays)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
   0    1    2    3    4    5    6    7    9   10   11   12   13   14   15   16 
   2    3    4   52   14    4   42   10    3    8    1    5    2    1    2    2 
  17   18   19   21  999 
   1    2    1    1 3959 </code></pre>
</div>
</div>
<hr>
</section>
<section id="python-examine-distribution-of-pdays" class="level4">
<h4 class="anchored" data-anchor-id="python-examine-distribution-of-pdays">Python: Examine Distribution of <code>pdays</code></h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a>bank[<span class="st">"pdays"</span>].value_counts().sort_index().head(<span class="dv">10</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>pdays
0      2
1      3
2      4
3     52
4     14
5      4
6     42
7     10
9      3
10     8
Name: count, dtype: int64</code></pre>
</div>
</div>
<p><strong>Interpretation</strong></p>
<ul>
<li>The dominance of <code>999</code> indicates a <strong>categorical condition</strong>, not a numeric measurement.</li>
<li>Treating <code>pdays</code> as continuous without recoding would distort both EDA and modelling.</li>
</ul>
<hr>
</section>
</section>
<section id="example-2-campaign-and-previous" class="level3">
<h3 class="anchored" data-anchor-id="example-2-campaign-and-previous">Example 2: <code>campaign</code> and <code>previous</code></h3>
<p>These variables are counts, but:</p>
<ul>
<li>high values may indicate repeated targeting,</li>
<li>extreme values may represent special cases rather than typical behaviour.</li>
</ul>
<p>They are <strong>valid</strong>, but require interpretation.</p>
<hr>
</section>
</section>
<section id="c5.-variables-that-threaten-validity" class="level2">
<h2 class="anchored" data-anchor-id="c5.-variables-that-threaten-validity">C5. Variables That Threaten Validity</h2>
<p>Some variables are technically correct but <strong>conceptually problematic</strong>.</p>
<hr>
<section id="critical-example-duration" class="level3">
<h3 class="anchored" data-anchor-id="critical-example-duration">Critical Example: <code>duration</code></h3>
<p><code>duration</code> measures call length (in seconds).</p>
<p>While accurate, it violates a core modelling assumption:</p>
<blockquote class="blockquote">
<p><strong>At prediction time, call duration is not known.</strong></p>
</blockquote>
<p>Including <code>duration</code> would:</p>
<ul>
<li>artificially inflate performance,</li>
<li>create a misleading model,</li>
<li>invalidate conclusions.</li>
</ul>
<p>This is an example of <strong>data leakage</strong>, not missing data.</p>
<hr>
</section>
</section>
<section id="c6.-classifying-data-quality-issues" class="level2">
<h2 class="anchored" data-anchor-id="c6.-classifying-data-quality-issues">C6. Classifying Data Quality Issues</h2>
<p>We now classify several observed issues.</p>
<hr>
<section id="issue-1-unknown-in-education" class="level3">
<h3 class="anchored" data-anchor-id="issue-1-unknown-in-education">Issue 1: <code>"unknown"</code> in <code>education</code></h3>
<ul>
<li><p><strong>Type:</strong> Representation / measurement issue</p></li>
<li><p><strong>Cause:</strong> Information not recorded or disclosed</p></li>
<li><p><strong>Possible actions:</strong></p>
<ul>
<li>keep as a separate category,</li>
<li>combine with similar levels,</li>
<li>treat as missing later.</li>
</ul></li>
</ul>
<p>No single correct choice — justification matters.</p>
<hr>
</section>
<section id="issue-2-pdays-999" class="level3">
<h3 class="anchored" data-anchor-id="issue-2-pdays-999">Issue 2: <code>pdays = 999</code></h3>
<ul>
<li><p><strong>Type:</strong> Representation issue</p></li>
<li><p><strong>Cause:</strong> Sentinel coding</p></li>
<li><p><strong>Possible actions:</strong></p>
<ul>
<li>convert to categorical (“previously contacted: yes/no”),</li>
<li>replace with missing and add indicator variable.</li>
</ul></li>
</ul>
<hr>
</section>
<section id="issue-3-duration" class="level3">
<h3 class="anchored" data-anchor-id="issue-3-duration">Issue 3: <code>duration</code></h3>
<ul>
<li><p><strong>Type:</strong> Validity issue (prediction-time leakage)</p></li>
<li><p><strong>Cause:</strong> Variable observed after outcome</p></li>
<li><p><strong>Action:</strong></p>
<ul>
<li>exclude from predictive models,</li>
<li>retain for descriptive analysis.</li>
</ul></li>
</ul>
<hr>
</section>
</section>
<section id="c7.-should-everything-be-cleaned" class="level2">
<h2 class="anchored" data-anchor-id="c7.-should-everything-be-cleaned">C7. Should Everything Be “Cleaned”?</h2>
<p>A key principle:</p>
<blockquote class="blockquote">
<p><strong>Not all unusual values are errors.</strong></p>
</blockquote>
<ul>
<li><code>"unknown"</code> may carry information.</li>
<li><code>999</code> encodes a meaningful state.</li>
<li>Rare categories may represent real but uncommon situations.</li>
</ul>
<p>Over-aggressive cleaning can:</p>
<ul>
<li>remove signal,</li>
<li>introduce bias,</li>
<li>oversimplify reality.</li>
</ul>
<hr>
</section>
<section id="c8.-data-quality-is-question-dependent" class="level2">
<h2 class="anchored" data-anchor-id="c8.-data-quality-is-question-dependent">C8. Data Quality Is Question-Dependent</h2>
<p>The same variable may be:</p>
<ul>
<li>valid for EDA,</li>
<li>invalid for prediction,</li>
<li>acceptable for clustering,</li>
<li>problematic for causal interpretation.</li>
</ul>
<p>For example:</p>
<ul>
<li><code>duration</code> is useful for understanding call outcomes,</li>
<li>but invalid for pre-call prediction.</li>
</ul>
<hr>
</section>
<section id="key-takeaway-from-part-c" class="level2">
<h2 class="anchored" data-anchor-id="key-takeaway-from-part-c">Key Takeaway from Part C</h2>
<blockquote class="blockquote">
<p><strong>Data quality is not about making data “look nice”. It is about ensuring that conclusions are valid for the question being asked.</strong></p>
</blockquote>
<p>Every data quality decision should be:</p>
<ul>
<li>explicit,</li>
<li>justified,</li>
<li>revisited when the task changes.</li>
</ul>
<hr>
</section>
<section id="part-d-exploratory-data-analysis-eda" class="level2">
<h2 class="anchored" data-anchor-id="part-d-exploratory-data-analysis-eda">Part D: Exploratory Data Analysis (EDA)</h2>
<hr>
</section>
<section id="d1.-purpose-of-exploratory-data-analysis" class="level2">
<h2 class="anchored" data-anchor-id="d1.-purpose-of-exploratory-data-analysis">D1. Purpose of Exploratory Data Analysis</h2>
<p>Exploratory Data Analysis (EDA) is used to:</p>
<ul>
<li>understand distributions and patterns,</li>
<li>identify unusual behaviour,</li>
<li>generate hypotheses for later modelling.</li>
</ul>
<p>EDA <strong>does not prove causation</strong> and <strong>does not optimise models</strong>. Its role is to <strong>inform better questions</strong>.</p>
<hr>
</section>
<section id="d2.-exploring-the-outcome-variable-y" class="level2">
<h2 class="anchored" data-anchor-id="d2.-exploring-the-outcome-variable-y">D2. Exploring the Outcome Variable (<code>y</code>)</h2>
<p>We begin by examining the target variable to understand <strong>class balance</strong>.</p>
<hr>
<section id="r-distribution-of-y" class="level4">
<h4 class="anchored" data-anchor-id="r-distribution-of-y">R: Distribution of <code>y</code></h4>
<p>Count outcomes</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(bank<span class="sc">$</span>y)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
  no  yes 
3668  451 </code></pre>
</div>
</div>
<p>Proportion of outcomes</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a><span class="fu">prop.table</span>(<span class="fu">table</span>(bank<span class="sc">$</span>y))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
       no       yes 
0.8905074 0.1094926 </code></pre>
</div>
</div>
<hr>
</section>
<section id="python-distribution-of-y" class="level4">
<h4 class="anchored" data-anchor-id="python-distribution-of-y">Python: Distribution of <code>y</code></h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a>bank[<span class="st">"y"</span>].value_counts()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>y
no     3668
yes     451
Name: count, dtype: int64</code></pre>
</div>
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a>bank[<span class="st">"y"</span>].value_counts(normalize<span class="op">=</span><span class="va">True</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>y
no     0.890507
yes    0.109493
Name: proportion, dtype: float64</code></pre>
</div>
</div>
<p><strong>Interpretation</strong></p>
<ul>
<li><p>The outcome variable is <strong>imbalanced</strong>.</p></li>
<li><p>Most clients do <strong>not</strong> subscribe to the term deposit.</p></li>
<li><p>This imbalance has implications for:</p>
<ul>
<li>model evaluation,</li>
<li>metric choice,</li>
<li>interpretation of accuracy.</li>
</ul></li>
</ul>
<p>At this stage, we simply <strong>note</strong> the imbalance.</p>
<hr>
</section>
</section>
<section id="d3.-exploratory-analysis-of-categorical-variables" class="level2">
<h2 class="anchored" data-anchor-id="d3.-exploratory-analysis-of-categorical-variables">D3. Exploratory Analysis of Categorical Variables</h2>
<p>We now examine how categorical variables relate to the outcome.</p>
<hr>
<section id="example-1-job-type-vs-subscription" class="level3">
<h3 class="anchored" data-anchor-id="example-1-job-type-vs-subscription">Example 1: Job Type vs Subscription</h3>
<hr>
<section id="r-job-vs-outcome" class="level4">
<h4 class="anchored" data-anchor-id="r-job-vs-outcome">R: Job vs Outcome</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb46"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a>job_y <span class="ot">&lt;-</span> <span class="fu">table</span>(bank<span class="sc">$</span>job, bank<span class="sc">$</span>y)</span>
<span id="cb46-2"><a href="#cb46-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-3"><a href="#cb46-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert to proportions by job</span></span>
<span id="cb46-4"><a href="#cb46-4" aria-hidden="true" tabindex="-1"></a><span class="fu">prop.table</span>(job_y, <span class="at">margin =</span> <span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>               
                        no        yes
  admin.        0.86857708 0.13142292
  blue-collar   0.93099548 0.06900452
  entrepreneur  0.94594595 0.05405405
  housemaid     0.90000000 0.10000000
  management    0.90740741 0.09259259
  retired       0.77108434 0.22891566
  self-employed 0.91823899 0.08176101
  services      0.91094148 0.08905852
  student       0.76829268 0.23170732
  technician    0.88422576 0.11577424
  unemployed    0.82882883 0.17117117
  unknown       0.89743590 0.10256410</code></pre>
</div>
</div>
<hr>
</section>
<section id="python-job-vs-outcome" class="level4">
<h4 class="anchored" data-anchor-id="python-job-vs-outcome">Python: Job vs Outcome</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a>pd.crosstab(bank[<span class="st">"job"</span>], bank[<span class="st">"y"</span>], normalize<span class="op">=</span><span class="st">"index"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>y                    no       yes
job                              
admin.         0.868577  0.131423
blue-collar    0.930995  0.069005
entrepreneur   0.945946  0.054054
housemaid      0.900000  0.100000
management     0.907407  0.092593
retired        0.771084  0.228916
self-employed  0.918239  0.081761
services       0.910941  0.089059
student        0.768293  0.231707
technician     0.884226  0.115774
unemployed     0.828829  0.171171
unknown        0.897436  0.102564</code></pre>
</div>
</div>
<p><strong>Interpretation</strong></p>
<ul>
<li><p>Some job categories appear to have higher subscription rates.</p></li>
<li><p>However:</p>
<ul>
<li>some categories are rare,</li>
<li>proportions may be unstable.</li>
</ul></li>
<li><p>This is <strong>association</strong>, not causation.</p></li>
</ul>
<hr>
</section>
</section>
<section id="example-2-contact-method-vs-outcome" class="level3">
<h3 class="anchored" data-anchor-id="example-2-contact-method-vs-outcome">Example 2: Contact Method vs Outcome</h3>
<hr>
</section>
<section id="r-contact-vs-outcome" class="level3">
<h3 class="anchored" data-anchor-id="r-contact-vs-outcome">R: Contact vs Outcome</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb50"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a><span class="fu">prop.table</span>(<span class="fu">table</span>(bank<span class="sc">$</span>contact, bank<span class="sc">$</span>y), <span class="at">margin =</span> <span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>           
                    no        yes
  cellular  0.85859729 0.14140271
  telephone 0.94819359 0.05180641</code></pre>
</div>
</div>
<hr>
</section>
<section id="python-contact-vs-outcome" class="level3">
<h3 class="anchored" data-anchor-id="python-contact-vs-outcome">Python: Contact vs Outcome</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb52"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a>pd.crosstab(bank[<span class="st">"contact"</span>], bank[<span class="st">"y"</span>], normalize<span class="op">=</span><span class="st">"index"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>y                no       yes
contact                      
cellular   0.858597  0.141403
telephone  0.948194  0.051806</code></pre>
</div>
</div>
<p><strong>Interpretation</strong></p>
<ul>
<li><p>Different contact methods show different success rates.</p></li>
<li><p>This may reflect:</p>
<ul>
<li>operational decisions,</li>
<li>client availability,</li>
<li>campaign strategy.</li>
</ul></li>
</ul>
<p>EDA alone cannot disentangle these effects.</p>
<hr>
</section>
</section>
<section id="d4.-exploratory-analysis-of-numeric-variables" class="level2">
<h2 class="anchored" data-anchor-id="d4.-exploratory-analysis-of-numeric-variables">D4. Exploratory Analysis of Numeric Variables</h2>
<p>Numeric variables allow us to explore distributions and conditional patterns.</p>
<hr>
<section id="example-1-age-distribution" class="level3">
<h3 class="anchored" data-anchor-id="example-1-age-distribution">Example 1: Age Distribution</h3>
<hr>
<section id="r-age-distribution" class="level4">
<h4 class="anchored" data-anchor-id="r-age-distribution">R: Age Distribution</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb54"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(bank<span class="sc">$</span>age)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
  18.00   32.00   38.00   40.11   47.00   88.00 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb56"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb56-1"><a href="#cb56-1" aria-hidden="true" tabindex="-1"></a><span class="fu">hist</span>(bank<span class="sc">$</span>age, <span class="at">breaks =</span> <span class="dv">30</span>,</span>
<span id="cb56-2"><a href="#cb56-2" aria-hidden="true" tabindex="-1"></a><span class="at">main =</span> <span class="st">"Distribution of Age"</span>,</span>
<span id="cb56-3"><a href="#cb56-3" aria-hidden="true" tabindex="-1"></a><span class="at">xlab =</span> <span class="st">"Age"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="week1_files/figure-html/unnamed-chunk-29-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<hr>
</section>
<section id="python-age-distribution" class="level4">
<h4 class="anchored" data-anchor-id="python-age-distribution">Python: Age Distribution</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb57"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a>bank[<span class="st">"age"</span>].describe()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>count    4119.000000
mean       40.113620
std        10.313362
min        18.000000
25%        32.000000
50%        38.000000
75%        47.000000
max        88.000000
Name: age, dtype: float64</code></pre>
</div>
<div class="sourceCode cell-code" id="cb59"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb59-1"><a href="#cb59-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-2"><a href="#cb59-2" aria-hidden="true" tabindex="-1"></a>bank[<span class="st">"age"</span>].hist(bins<span class="op">=</span><span class="dv">30</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="week1_files/figure-html/unnamed-chunk-30-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p><strong>Interpretation</strong></p>
<ul>
<li>Age is right-skewed.</li>
<li>Need to observe the overlap between subscribers and non-subscribers.</li>
<li>Can we identify/conclude threshold from the distribution alone?</li>
</ul>
<hr>
</section>
</section>
<section id="example-2-duration-and-outcome-with-caution" class="level3">
<h3 class="anchored" data-anchor-id="example-2-duration-and-outcome-with-caution">Example 2: Duration and Outcome (with Caution)</h3>
<p>Even though <code>duration</code> is <strong>not valid for prediction</strong>, it is informative for EDA.</p>
<hr>
<section id="r-duration-by-outcome" class="level4">
<h4 class="anchored" data-anchor-id="r-duration-by-outcome">R: Duration by Outcome</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb60"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb60-1"><a href="#cb60-1" aria-hidden="true" tabindex="-1"></a><span class="fu">boxplot</span>(duration <span class="sc">~</span> y,</span>
<span id="cb60-2"><a href="#cb60-2" aria-hidden="true" tabindex="-1"></a><span class="at">data =</span> bank,</span>
<span id="cb60-3"><a href="#cb60-3" aria-hidden="true" tabindex="-1"></a><span class="at">main =</span> <span class="st">"Call Duration by Outcome"</span>,</span>
<span id="cb60-4"><a href="#cb60-4" aria-hidden="true" tabindex="-1"></a><span class="at">ylab =</span> <span class="st">"Duration (seconds)"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="week1_files/figure-html/unnamed-chunk-31-3.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<hr>
</section>
<section id="python-duration-by-outcome" class="level4">
<h4 class="anchored" data-anchor-id="python-duration-by-outcome">Python: Duration by Outcome</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb61"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb61-1"><a href="#cb61-1" aria-hidden="true" tabindex="-1"></a>bank.boxplot(column<span class="op">=</span><span class="st">"duration"</span>, by<span class="op">=</span><span class="st">"y"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="week1_files/figure-html/unnamed-chunk-32-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p><strong>Interpretation</strong></p>
<ul>
<li>Calls resulting in subscription tend to be longer.</li>
<li>This relationship is <strong>expected</strong>, but also <strong>problematic</strong>.</li>
<li>It reinforces why <code>duration</code> must be excluded from predictive models.</li>
</ul>
<hr>
</section>
</section>
</section>
<section id="d5.-multivariate-eda-combining-variables" class="level2">
<h2 class="anchored" data-anchor-id="d5.-multivariate-eda-combining-variables">D5. Multivariate EDA: Combining Variables</h2>
<p>EDA becomes more informative when variables are combined.</p>
<hr>
<section id="example-age-vs-outcome-by-contact-method" class="level3">
<h3 class="anchored" data-anchor-id="example-age-vs-outcome-by-contact-method">Example: Age vs Outcome by Contact Method</h3>
<hr>
<section id="r" class="level4">
<h4 class="anchored" data-anchor-id="r">R</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb62"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb62-1"><a href="#cb62-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb62-2"><a href="#cb62-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-3"><a href="#cb62-3" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(bank, <span class="fu">aes</span>(<span class="at">x =</span> age, <span class="at">fill =</span> y)) <span class="sc">+</span></span>
<span id="cb62-4"><a href="#cb62-4" aria-hidden="true" tabindex="-1"></a><span class="fu">geom_histogram</span>(<span class="at">bins =</span> <span class="dv">30</span>, <span class="at">position =</span> <span class="st">"identity"</span>, <span class="at">alpha =</span> <span class="fl">0.6</span>) <span class="sc">+</span></span>
<span id="cb62-5"><a href="#cb62-5" aria-hidden="true" tabindex="-1"></a><span class="fu">facet_wrap</span>(<span class="sc">~</span> contact) <span class="sc">+</span></span>
<span id="cb62-6"><a href="#cb62-6" aria-hidden="true" tabindex="-1"></a><span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Age Distribution by Outcome and Contact Method"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="week1_files/figure-html/unnamed-chunk-33-3.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<hr>
</section>
<section id="python" class="level4">
<h4 class="anchored" data-anchor-id="python">Python</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb63"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb63-1"><a href="#cb63-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> seaborn <span class="im">as</span> sns</span>
<span id="cb63-2"><a href="#cb63-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span>
<span id="cb63-3"><a href="#cb63-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-4"><a href="#cb63-4" aria-hidden="true" tabindex="-1"></a>sns.histplot(data<span class="op">=</span>bank, x<span class="op">=</span><span class="st">"age"</span>, hue<span class="op">=</span><span class="st">"y"</span>,</span>
<span id="cb63-5"><a href="#cb63-5" aria-hidden="true" tabindex="-1"></a>bins<span class="op">=</span><span class="dv">30</span>, element<span class="op">=</span><span class="st">"step"</span>, stat<span class="op">=</span><span class="st">"density"</span>)</span>
<span id="cb63-6"><a href="#cb63-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-7"><a href="#cb63-7" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="week1_files/figure-html/unnamed-chunk-34-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p><strong>Interpretation</strong></p>
<ul>
<li>Patterns may differ across contact methods.</li>
<li>Overlaps remain substantial.</li>
<li>Multivariate EDA suggests complexity rather than simple rules.</li>
</ul>
<hr>
</section>
</section>
</section>
<section id="d6.-what-eda-can-and-cannot-tell-us" class="level2">
<h2 class="anchored" data-anchor-id="d6.-what-eda-can-and-cannot-tell-us">D6. What EDA Can — and Cannot — Tell Us</h2>
<p>From this EDA, we can say:</p>
<ul>
<li>✔ Some variables are associated with subscription outcomes</li>
<li>✔ Certain categories appear more promising than others</li>
<li>✔ Data imbalance is present</li>
</ul>
<p>But we <strong>cannot</strong> conclude:</p>
<ul>
<li>✘ which variables <em>cause</em> subscription</li>
<li>✘ how a model should weight features</li>
<li>✘ what performance is achievable</li>
</ul>
<p>These questions require <strong>careful modelling</strong>, informed by EDA.</p>
<hr>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
        const codeEl = trigger.previousElementSibling.cloneNode(true);
        for (const childEl of codeEl.children) {
          if (isCodeAnnotation(childEl)) {
            childEl.remove();
          }
        }
        return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->




</body></html>